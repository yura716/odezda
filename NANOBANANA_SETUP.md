# üé® NanoBanana API - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞!

## ‚úÖ –ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ:

### 1. **–û–±–Ω–æ–≤–ª–µ–Ω backend/main.py**
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω –∏–º–ø–æ—Ä—Ç `requests`, `time`
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω `StaticFiles` –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–º —Ñ–∞–π–ª–∞–º
- ‚úÖ –°–æ–∑–¥–∞–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `upload_image_temp()` - —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ñ–æ—Ç–æ –ª–æ–∫–∞–ª—å–Ω–æ
- ‚úÖ –°–æ–∑–¥–∞–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `generate_outfit_image_nanobanana()` - –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —á–µ—Ä–µ–∑ NanoBanana
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `generate_outfit_image()` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–µ —Ñ–æ—Ç–æ
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω —ç–Ω–¥–ø–æ–∏–Ω—Ç `/api/analyze` - –ø–µ—Ä–µ–¥–∞–µ—Ç –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ

### 2. **–î–æ–±–∞–≤–ª–µ–Ω API –∫–ª—é—á –≤ .env**
```bash
NANOBANANA_API_KEY=187dbcc6c4dbddab3b109a4dda0b5b2c
```

### 3. **–ù–∞—Å—Ç—Ä–æ–µ–Ω –¥–æ—Å—Ç—É–ø –∫ —Ñ–∞–π–ª–∞–º**
- –ü–∞–ø–∫–∞ `uploads/` –¥–æ—Å—Ç—É–ø–Ω–∞ –ø–æ URL `http://localhost:8000/uploads/`

---

## üéØ –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:

1. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–≥—Ä—É–∂–∞–µ—Ç —Ñ–æ—Ç–æ** üì∏
2. **GPT-4 Vision –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç** –≤–Ω–µ—à–Ω–æ—Å—Ç—å –∏ –ø–æ–¥–±–∏—Ä–∞–µ—Ç –æ–¥–µ–∂–¥—É
3. **–û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–µ —Ñ–æ—Ç–æ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è** –≤ `uploads/temp_*.jpg`
4. **NanoBanana –ø–æ–ª—É—á–∞–µ—Ç:**
   - URL –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–≥–æ —Ñ–æ—Ç–æ
   - –û–ø–∏—Å–∞–Ω–∏–µ –∂–µ–ª–∞–µ–º–æ–π –æ–¥–µ–∂–¥—ã
   - –°—Ç–∏–ª—å
5. **NanoBanana –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç** –Ω–æ–≤–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ (20-60 —Å–µ–∫—É–Ω–¥)
   - ‚úÖ –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤–∞—à–µ –ª–∏—Ü–æ
   - ‚úÖ –°–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ç–µ–ª–æ—Å–ª–æ–∂–µ–Ω–∏–µ
   - ‚úÖ –ú–µ–Ω—è–µ—Ç —Ç–æ–ª—å–∫–æ –æ–¥–µ–∂–¥—É
6. **–†–µ–∑—É–ª—å—Ç–∞—Ç –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è** –≤ –±—Ä–∞—É–∑–µ—Ä–µ

---

## üöÄ –ó–∞–ø—É—Å–∫:

```bash
cd /Users/urij/Documents/odezda

# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Ç–µ–∫—É—â–∏–π –ø—Ä–æ—Ü–µ—Å—Å (Ctrl+C)

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
./start.sh
```

---

## üìä –ü—Ä–æ—Ü–µ—Å—Å –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏:

### –í —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –≤—ã —É–≤–∏–¥–∏—Ç–µ:

```
üé® –ó–∞–ø—É—Å–∫ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å NanoBanana API...
üì§ –ó–∞–≥—Ä—É–∑–∫–∞ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è...
üöÄ –û—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞–ø—Ä–æ—Å–∞ –≤ NanoBanana API...
üì∑ URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è: http://localhost:8000/uploads/temp_1234567890.jpg
üëï –û–¥–µ–∂–¥–∞: blue jeans and white t-shirt...
‚úÖ –ó–∞–¥–∞—á–∞ —Å–æ–∑–¥–∞–Ω–∞! ID: abc123...
‚è≥ –û–∂–∏–¥–∞–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ (–º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å –¥–æ 1 –º–∏–Ω—É—Ç—ã)...
‚è≥ –°—Ç–∞—Ç—É—Å: PROCESSING (–ø–æ–ø—ã—Ç–∫–∞ 6/40)
‚è≥ –°—Ç–∞—Ç—É—Å: PROCESSING (–ø–æ–ø—ã—Ç–∫–∞ 11/40)
‚è≥ –°—Ç–∞—Ç—É—Å: COMPLETED (–ø–æ–ø—ã—Ç–∫–∞ 15/40)
üéâ –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≥–æ—Ç–æ–≤–æ!
üîó URL: https://...
‚úÖ –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–æ–±–∞–≤–ª–µ–Ω–æ –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
```

---

## üí∞ –°—Ç–æ–∏–º–æ—Å—Ç—å:

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –°—Ç–æ–∏–º–æ—Å—Ç—å |
|-----------|-----------|
| GPT-4o Vision –∞–Ω–∞–ª–∏–∑ | ~$0.01 |
| NanoBanana –≥–µ–Ω–µ—Ä–∞—Ü–∏—è | ~$0.02-0.05 |
| **–í—Å–µ–≥–æ** | **$0.03-0.06** |

**–ì–æ—Ä–∞–∑–¥–æ –¥–µ—à–µ–≤–ª–µ DALL-E 3 –∏ –ª—É—á—à–µ –∫–∞—á–µ—Å—Ç–≤–æ!**

---

## ‚è±Ô∏è –í—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏:

- **–ê–Ω–∞–ª–∏–∑ —Ñ–æ—Ç–æ (GPT-4o):** 5-10 —Å–µ–∫—É–Ω–¥
- **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (NanoBanana):** 20-60 —Å–µ–∫—É–Ω–¥
- **–û–±—â–µ–µ –≤—Ä–µ–º—è:** 25-70 —Å–µ–∫—É–Ω–¥

---

## üé® –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ NanoBanana:

‚úÖ **–°–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤–∞—à–µ –ª–∏—Ü–æ** - —Ç–æ—á–Ω–æ–µ —Å—Ö–æ–¥—Å—Ç–≤–æ  
‚úÖ **–†–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç** - –∫–∞–∫ –Ω–∞—Å—Ç–æ—è—â–µ–µ —Ñ–æ—Ç–æ  
‚úÖ **–¢–æ–ª—å–∫–æ –æ–¥–µ–∂–¥–∞ –º–µ–Ω—è–µ—Ç—Å—è** - –≤—Å—ë –æ—Å—Ç–∞–ª—å–Ω–æ–µ –æ—Å—Ç–∞–µ—Ç—Å—è  
‚úÖ **–ë—ã—Å—Ç—Ä–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è** - 20-60 —Å–µ–∫—É–Ω–¥  
‚úÖ **–î–æ—Å—Ç—É–ø–Ω–∞—è —Ü–µ–Ω–∞** - $0.02-0.05 –∑–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ  

---

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):

–í `backend/main.py` –º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å:

### –†–∞–∑–º–µ—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è:
```python
"image_size": "3:4",  # –ü–æ—Ä—Ç—Ä–µ—Ç
# –ò–ª–∏: "1:1" (–∫–≤–∞–¥—Ä–∞—Ç), "4:3" (–∞–ª—å–±–æ–º), "16:9" (—à–∏—Ä–æ–∫–∏–π)
```

### –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π:
```python
"numImages": 1,  # –û—Ç 1 –¥–æ 4
```

### –í—Ä–µ–º—è –æ–∂–∏–¥–∞–Ω–∏—è:
```python
max_attempts = 40  # 40 –ø–æ–ø—ã—Ç–æ–∫ * 2 —Å–µ–∫ = 80 —Å–µ–∫—É–Ω–¥
```

---

## üìã API Endpoints:

### –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏:
```
POST https://api.nanobananaapi.ai/api/v1/nanobanana/generate
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞:
```
GET https://api.nanobananaapi.ai/api/v1/nanobanana/task/{taskId}
```

---

## üêõ –û—Ç–ª–∞–¥–∫–∞:

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å API –∫–ª—é—á:
```bash
cat /Users/urij/Documents/odezda/backend/.env | grep NANOBANANA
```

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:
```bash
ls -la /Users/urij/Documents/odezda/backend/uploads/
```

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ backend:
–°–º–æ—Ç—Ä–∏—Ç–µ –≤—ã–≤–æ–¥ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –≥–¥–µ –∑–∞–ø—É—â–µ–Ω backend

---

## ‚ö†Ô∏è –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:

### 1. "NanoBanana API –∫–ª—é—á –Ω–µ –Ω–∞–π–¥–µ–Ω"
**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –∫–ª—é—á –≤ `.env` —Ñ–∞–π–ª–µ
```bash
echo 'NANOBANANA_API_KEY=187dbcc6c4dbddab3b109a4dda0b5b2c' >> backend/.env
```

### 2. "–ü—Ä–µ–≤—ã—à–µ–Ω–æ –≤—Ä–µ–º—è –æ–∂–∏–¥–∞–Ω–∏—è"
**–†–µ—à–µ–Ω–∏–µ:** 
- –£–≤–µ–ª–∏—á—å—Ç–µ `max_attempts` –≤ –∫–æ–¥–µ
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –±–∞–ª–∞–Ω—Å –∫—Ä–µ–¥–∏—Ç–æ–≤ NanoBanana
- –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑

### 3. "–ó–∞–¥–∞—á–∞ –∑–∞–≤–µ—Ä—à–∏–ª–∞—Å—å —Å –æ—à–∏–±–∫–æ–π"
**–†–µ—à–µ–Ω–∏–µ:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–∞—á–µ—Å—Ç–≤–æ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ —Ñ–æ—Ç–æ
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –±–∞–ª–∞–Ω—Å –∫—Ä–µ–¥–∏—Ç–æ–≤
- –£–ø—Ä–æ—Å—Ç–∏—Ç–µ –æ–ø–∏—Å–∞–Ω–∏–µ –æ–¥–µ–∂–¥—ã

### 4. –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è
**–†–µ—à–µ–Ω–∏–µ:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ `app.mount("/uploads", ...)` –µ—Å—Ç—å –≤ –∫–æ–¥–µ
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –ø–∞–ø–∫–∞ `uploads/` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
- –û—Ç–∫—Ä–æ–π—Ç–µ URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –Ω–∞–ø—Ä—è–º—É—é –≤ –±—Ä–∞—É–∑–µ—Ä–µ

---

## üìö –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏:

- **NanoBanana Dashboard:** https://nanobananaapi.ai/dashboard
- **API Documentation:** https://docs.nanobananaapi.ai/
- **–ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–ª–∞–Ω—Å–∞:** https://nanobananaapi.ai/dashboard/credits

---

## üéâ –ì–æ—Ç–æ–≤–æ!

–¢–µ–ø–µ—Ä—å –≤–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:
1. ‚úÖ –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Ñ–æ—Ç–æ —Å –ø–æ–º–æ—â—å—é GPT-4 Vision
2. ‚úÖ –ü–æ–¥–±–∏—Ä–∞–µ—Ç –æ–¥–µ–∂–¥—É –≤ –≤—ã–±—Ä–∞–Ω–Ω–æ–º —Å—Ç–∏–ª–µ
3. ‚úÖ **–°–æ–∑–¥–∞–µ—Ç —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤–∞—Å –≤ –Ω–æ–≤–æ–π –æ–¥–µ–∂–¥–µ!**
4. ‚úÖ –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Å—ã–ª–∫–∏ –Ω–∞ –º–∞–≥–∞–∑–∏–Ω—ã
5. ‚úÖ –î–∞–µ—Ç —Å–æ–≤–µ—Ç—ã –ø–æ —Å—Ç–∏–ª—é

**–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –∏ –ø–æ–ø—Ä–æ–±—É–π—Ç–µ!** üöÄ

```bash
cd /Users/urij/Documents/odezda && ./start.sh
```

